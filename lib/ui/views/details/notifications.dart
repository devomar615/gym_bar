import 'package:flutter/material.dart';import 'package:gym_bar/core/models/product.dart';import 'package:gym_bar/core/services/quantity_purchase_services.dart';import 'package:gym_bar/core/view_models/branch_model.dart';import 'package:gym_bar/core/view_models/product_model.dart';import 'package:gym_bar/ui/shared/dimensions.dart';import 'package:gym_bar/ui/shared/text_styles.dart';import 'package:provider/provider.dart';class Notifications extends StatelessWidget {  @override  Widget build(BuildContext context) {    ProductModel productModel = Provider.of<ProductModel>(context, listen: false);    BranchModel branchModel = Provider.of<BranchModel>(context, listen: false);    Dimensions _dimensions = Dimensions(context);    TextStyles _textStyles = TextStyles(context: context);    QuantityPurchaseServices quantityPurchaseServices =        Provider.of<QuantityPurchaseServices>(context, listen: false);    return StreamProvider<List<Product>>(        create: (_) => productModel.fetchProductStreamByLimit(branchModel.selectedBranch),        initialData: [],        child: Consumer<List<Product>>(          builder: (_, products, __) {            return Scaffold(              appBar: AppBar(title: Text("الاشعارات")),              body: products.length > 0                  ? ListView.builder(                      itemCount: products.length,                      itemBuilder: (BuildContext context, int index) {                        return Padding(                            padding: EdgeInsets.symmetric(                                vertical: _dimensions.heightPercent(1),                                horizontal: _dimensions.widthPercent(2)),                            child: Card(                              color: Colors.white,                              shape: RoundedRectangleBorder(                                borderRadius: BorderRadius.circular(_dimensions.heightPercent(1)),                              ),                              child: ListTile(                                onTap: () {                                  productModel.selectedProduct = products[index];                                  quantityPurchaseServices.fromHomeScreen = false;                                  quantityPurchaseServices.selectedCategory =                                      products[index].category;                                  Navigator.pushNamed(context, "/quantity_purchase");                                },                                leading: Icon(                                  Icons.account_circle,                                  size: _dimensions.widthPercent(10),                                ),                                title: Text(                                  products[index].name,                                  style: _textStyles.notificationTitleStyle(),                                ),                                subtitle: Column(                                  crossAxisAlignment: CrossAxisAlignment.start,                                  children: [                                    SizedBox(height: _dimensions.heightPercent(1)),                                    Row(                                      // mainAxisAlignment: MainAxisAlignment.spaceEvenly,                                      children: [                                        Text(                                          products[index].netQuantityOfUnit.toString(),                                          style:                                              _textStyles.notificationSubtitleStyle(Colors.red),                                        ),                                        SizedBox(width: _dimensions.widthPercent(5)),                                        Text(                                          ": الكمية الحالية",                                          style:                                              _textStyles.notificationSubtitleStyle(Colors.red),                                        ),                                      ],                                    ),                                    SizedBox(height: _dimensions.heightPercent(1)),                                    Row(                                      children: [                                        Text(                                          products[index].quantityLimit.toString(),                                          style:                                              _textStyles.notificationSubtitleStyle(Colors.blue),                                        ),                                        SizedBox(width: _dimensions.widthPercent(5)),                                        Text(                                          ": الحد الادنى",                                          style:                                              _textStyles.notificationSubtitleStyle(Colors.blue),                                        ),                                      ],                                    ),                                  ],                                ),                              ),                            ));                      },                    )                  : Center(                      child: Text(                      "لا يوجد اشعارات الان",                      style: _textStyles.warningStyle(),                    )),            );          },        ));  }}